<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello World!</h1>
    <script>

        // CallBack Hell: 


        // function step1(fn){
        //     setTimeout(function(){
        //         console.log('seleting image');
        //         // return 'image';
        //         fn('Image'); 
        //     }, 400);
        // }

        // function step2(Image, fn){
        //     setTimeout(()=>{
        //         console.log(`filter Image ${Image}`)
        //         // return 'Filtered Image'
        //         fn('filteredImage');
        //     }, 300)
        // }

        // function step3(filteredImage, fn){
        //     setTimeout(()=>{
        //         console.log(`Image with Caption ${filteredImage}`);
        //         // return ('Image Caption Added')
        //         fn('Image Caption Added');
        //     }, 200)
        // }

        // function step4(imageWithCaption){
        //     setTimeout(()=>{
        //         console.log(`finalImage ${imageWithCaption}`);
        //     }, 250);
        // }

        // step1( function (Image){
        //     step2(Image, function(filteredImage){
        //         step3(filteredImage, function(imageWithCaption){
        //             step4(imageWithCaption);
        //         })
        //     });
        // })

        // Promises:
        const promises = new Promise((resolve, reject)=>{
            
            var isPrime=2;
            if(isPrime===true){
                resolve('resolve');
            }
            else if(isPrime==false){
                reject('rejected');
            }

        })
        console.log("pending");
        promises.then((data)=>{
            console.log(data)
        }).catch((err)=>{console.log(err)})
        console.log('done');


        var step1 = function(){
            return new Promise((resolve, reject) => {
                setTimeout(()=>{
                    resolve('step1');
                }, 4000)
            })
        }
        var step2 = ()=>{
            return new Promise((resolve, reject) => {
                setTimeout(()=>{
                    resolve('step2');
                }, 3000)
            })
        }
        var step3 = ()=>{
            return new Promise((res, rej)=>{
                setTimeout(()=>{
                    res('step3');
                }, 2000)
            })
        }

        step1().then( (data)=>{
            console.log(data);
            step2().then((data)=>{
                console.log(data);
                step3().then((data)=>{
                    console.log(data);
                })
            })
        })


    </script>
</body>
</html>